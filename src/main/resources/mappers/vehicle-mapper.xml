<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="vehicle">

	<select id="selectList" resultType="vehicleReqDto">
		SELECT * FROM VEHICLE 
	</select>

	<select id="selectDetails" resultType="vehicleRespDto">
		SELECT * FROM VEHICLE WHERE IDX = #{IDX}
	</select>
	
	<select id="selectOne" resultType="vehicleRespDto">
		SELECT * FROM VEHICLE WHERE IDX = #{IDX}
	</select>



	<resultMap type="VehicleReqDto" id="LocationInfo">
		<result property="idx" column="idx"/>
		<result property="locationidx" column="location_idx"/>
		<collection property="locationList" resultMap="locationInfo"></collection>
	</resultMap>


 	<select id="getVehicleInfo" resultType="VehicleInfo">
 		 select *
        from vehicle v
        left outer join location l
        on v.location_idx = l.idx
        where v.idx = #{idx}
 	</select>
 	
 	<select id="getOptionInfo" resultType="VehicleInfo">
	 select f.fuelname,  c.typename
	from FUELTYPE f, CARTYPE c, VEHICLE v
	where v.cartype_idx = c.idx and v.fueltype_idx = f.idx and v.idx=#{idx}
 	
 	</select>
 	
 	
 	
</mapper>
